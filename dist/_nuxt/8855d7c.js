(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{168:function(t,e,r){t.exports=r.p+"img/fav_filled.1cd890f.png"},169:function(t,e,r){t.exports=r.p+"img/fav_empty.1e6f765.png"},170:function(t,e,r){var content=r(180);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(64).default)("1dc106fc",content,!0,{sourceMap:!1})},171:function(t,e,r){var content=r(182);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(64).default)("18c1c562",content,!0,{sourceMap:!1})},172:function(t,e,r){var content=r(184);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(64).default)("2e107364",content,!0,{sourceMap:!1})},178:function(t,e,r){t.exports=r.p+"img/cross.0273ced.png"},179:function(t,e,r){"use strict";r(170)},180:function(t,e,r){var o=r(63)(!1);o.push([t.i,".vendor-filter{font-weight:700;font-family:Open Sans,Roboto,sans-serif;width:1300px;height:600px;margin:auto;padding:3.6rem 4.8rem 6rem;font-size:1.2rem;background:#fff;border-radius:1.2rem;box-sizing:border-box}.vendor-filter__header{margin:0 0 1.5rem}.vendor-filter__title{font-weight:700;font-size:1.4rem;line-height:1.9rem}.vendor-filter__name{margin:0 .5rem;text-decoration:underline;cursor:pointer}.vendor-filter__name.active{color:#00f}.vendor-filter__scroll-wrap{overflow:hidden}.vendor-filter__scroll{width:100%;max-height:46rem;overflow-y:auto}.vendor-filter__scroll::-webkit-scrollbar{width:0}.vendor-filter__list{position:relative;margin-top:10px;-moz-column-count:4;column-count:4;grid-column-gap:40px;-moz-column-gap:40px;column-gap:40px}.vendor-filter__item{margin-bottom:24px;-webkit-column-break-inside:avoid}.vendor-filter__item-name{margin-bottom:8px;padding-left:20px}.vendor-filter__item-content{width:100%;min-width:100%}.vendor-filter__photo{height:38px;padding:0 16px 0 4px;margin-bottom:8px;box-sizing:border-box;border-radius:8px;background-color:#f7f8f9;display:flex;align-items:center;justify-content:flex-start}.vendor-filter__photo-icon{height:30px;width:30px;margin-right:10px;border-radius:8px}.vendor-filter__photo-name{margin-right:16px;flex:1;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.vendor-filter__photo-favorite-icon{height:16px;width:16px;position:relative;right:0;cursor:pointer}",""]),t.exports=o},181:function(t,e,r){"use strict";r(171)},182:function(t,e,r){var o=r(63)(!1);o.push([t.i,".wrap{position:relative;height:100vh;display:flex}.wrap__bg{position:fixed;top:0;right:0;bottom:0;left:0;z-index:-1;background:rgba(27,32,79,.2)}",""]),t.exports=o},183:function(t,e,r){"use strict";r(172)},184:function(t,e,r){var o=r(63),n=r(185),l=r(186),c=o(!1),f=n(l);c.push([t.i,"body{background-image:url("+f+")}",""]),t.exports=c},186:function(t,e,r){t.exports=r.p+"img/bg.70c1b84.jpg"},188:function(t,e,r){"use strict";r.r(e);r(40),r(49),r(50);var o=r(187),n=r(4),l=r(21),c=(r(39),r(24),r(173),r(34),r(13),r(35),r(18),r(32),r(31),r(33),r(47)),f=r(176),d=r.n(f),v={props:{titles:{type:Array,required:!0},albums:{type:Array,required:!0},favorites:{type:Array,required:!0},filter:{type:String,required:!0}},data:function(){return{}},computed:{},methods:{medId:function(){this.$emit("toggleFilter",this.medId)}}},m=(r(179),r(37));function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y={components:{VendorFilter:Object(m.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vendor-filter"},[o("div",{staticClass:"vendor-filter__header"},[o("div",{staticClass:"vendor-filter__title"},[t._v("\n      Фильтр:\n      "),o("span",{class:["vendor-filter__name",t.filter.localeCompare("byAlbum")?"":"active"],on:{click:function(e){return t.$emit("toggleFilter","byAlbum")}}},[t._v("По альбомам")]),t._v(" "),o("span",{class:["vendor-filter__name",t.filter.localeCompare("byFavorite")?"":"active"],on:{click:function(e){return t.$emit("toggleFilter","byFavorite")}}},[t._v("Избранное")])])]),t._v(" "),o("div",{staticClass:"vendor-filter__scroll-wrap"},[o("div",{staticClass:"vendor-filter__scroll"},[t.filter.localeCompare("byTitle")?t._e():o("div",{staticClass:"by-title vendor-filter__list"},t._l(t.titles,(function(e,n){return o("div",{key:n,staticClass:"vendor-filter__item"},[o("div",{staticClass:"vendor-filter__item-name"},[t._v(t._s(e.character))]),t._v(" "),o("div",{staticClass:"vendor-filter__item-content"},t._l(e.photos,(function(e){return o("div",{key:e.id,staticClass:"vendor-filter__photo"},[o("img",{staticClass:"vendor-filter__photo-icon",attrs:{src:e.icon,alt:e.title}}),t._v(" "),o("div",{staticClass:"vendor-filter__photo-name"},[t._v(t._s(e.title))]),t._v(" "),o("img",{staticClass:"vendor-filter__photo-favorite-icon",attrs:{src:e.isFavorite?r(168):r(169),alt:"Favorite"},on:{click:function(r){return t.$emit("toggleFavorite",e.id)}}})])})),0)])})),0),t._v(" "),t.filter.localeCompare("byAlbum")?t._e():o("div",{staticClass:"by-album vendor-filter__list"},t._l(t.albums,(function(e,n){return o("div",{key:n,staticClass:"vendor-filter__item"},[o("div",{staticClass:"vendor-filter__item-name"},[t._v(t._s(e.albumName))]),t._v(" "),o("div",{staticClass:"vendor-filter__item-content"},t._l(e.photos,(function(e){return o("div",{key:e.id,staticClass:"vendor-filter__photo"},[o("img",{staticClass:"vendor-filter__photo-icon",attrs:{src:e.icon,alt:e.title}}),t._v(" "),o("div",{staticClass:"vendor-filter__photo-name"},[t._v(t._s(e.title))]),t._v(" "),o("img",{staticClass:"vendor-filter__photo-favorite-icon",attrs:{src:e.isFavorite?r(168):r(169),alt:"Favorite"},on:{click:function(r){return t.$emit("toggleFavorite",e.id)}}})])})),0)])})),0),t._v(" "),t.filter.localeCompare("byFavorite")?t._e():o("div",{staticClass:"by-favorite vendor-filter__list"},t._l(t.favorites,(function(e,n){return o("div",{key:n,staticClass:"vendor-filter__item"},[o("div",{staticClass:"vendor-filter__item-name"},[t._v(t._s(e.character))]),t._v(" "),o("div",{staticClass:"vendor-filter__item-content"},t._l(e.photos,(function(e){return o("div",{key:e.id,staticClass:"vendor-filter__photo"},[o("img",{staticClass:"vendor-filter__photo-icon",attrs:{src:e.icon,alt:e.title}}),t._v(" "),o("div",{staticClass:"vendor-filter__photo-name"},[t._v(t._s(e.title))]),t._v(" "),o("img",{staticClass:"vendor-filter__photo-favorite-icon",attrs:{src:r(178),alt:"Favorite"},on:{click:function(r){return t.$emit("toggleFavorite",e.id)}}})])})),0)])})),0)])])])}),[],!1,null,null,null).exports},data:function(){return{titles:[],albums:[],favorites:[],filter:""}},computed:h({},Object(c.b)({getTitles:"popup/getTitles",getAlbums:"popup/getAlbums",getFavorites:"popup/getFavorites",getFilter:"popup/getFilter"})),methods:h({init:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.getFilter){e.next=6;break}return e.next=3,t.getPhotos();case 3:r=e.sent,o=t.groupingByTitles(r),t.initState({titles:o,albums:t.groupingByAlbums(r),favorites:t.groupingByFavorites(o),filter:"byTitle"});case 6:t.titles=JSON.parse(JSON.stringify(t.getTitles)),t.albums=JSON.parse(JSON.stringify(t.getAlbums)),t.favorites=JSON.parse(JSON.stringify(t.getFavorites)),t.filter=t.getFilter;case 10:case"end":return e.stop()}}),e)})))()},getPhotos:function(){return Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,fetch("http://jsonplaceholder.typicode.com/photos").then((function(t){return t.json()})).then((function(t){e=t}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))()},groupingByTitles:function(t){var e=this,r=t.sort((function(t,e){return t.title.localeCompare(e.title)})),n=new Set;return r.forEach((function(t){n.add(t.title.charAt(0))})),Array.from(n).reduce((function(t,n){var l=e.getRandomInRange(5,10),c=r.reduce((function(t,e){return e.title.charAt(0)===n&&t.length<l&&t.push({id:e.id,title:e.title.charAt(0).toUpperCase()+e.title.slice(1),icon:e.thumbnailUrl,isFavorite:!1}),t}),[]);return[].concat(Object(o.a)(t),[{character:n.toUpperCase(),photos:c}])}),[])},groupingByAlbums:function(t){var e=this,r=t.sort((function(t,e){return t.title.localeCompare(e.title)})),n=t.sort((function(t,e){return t.albumId<e.albumId})),l=new Set;return n.forEach((function(t){l.add(t.albumId)})),Array.from(l).reduce((function(t,n){var l=e.getRandomInRange(5,10),c=r.reduce((function(t,e){return e.albumId===n&&t.length<l&&t.push({id:e.id,title:e.title.charAt(0).toUpperCase()+e.title.slice(1),icon:e.thumbnailUrl,isFavorite:!1}),t}),[]),f=function(t){return d()("Album - ".concat(t)).substring(0,10)}(n);return[].concat(Object(o.a)(t),[{albumName:f.charAt(0).toUpperCase()+f.slice(1),photos:c}])}),[]).slice(0,32).sort((function(t,e){return t.albumName.localeCompare(e.albumName)}))},groupingByFavorites:function(t){return t.map((function(t){return h(h({},t),{},{photos:t.photos.filter((function(t){return t.isFavorite}))})})).filter((function(t){return t.photos.length}))},toggleFilter:function(filter){filter.localeCompare(this.filter)?this.updateFilter(filter):this.updateFilter("byTitle"),this.filter=this.getFilter},toggleFavorite:function(t){var e,r=this;this.titles=(e=t,r.titles.map((function(t){return h(h({},t),{},{photos:t.photos.map((function(t){return t.id===e&&(t.isFavorite=!t.isFavorite),t}))})}))),this.albums=function(t){return r.albums.map((function(e){return h(h({},e),{},{photos:e.photos.map((function(e){return e.id===t&&(e.isFavorite=!e.isFavorite),e}))})}))}(t),this.favorites=this.groupingByFavorites(this.titles),this.updateTitles(JSON.parse(JSON.stringify(this.titles))),this.updateAlbums(JSON.parse(JSON.stringify(this.albums))),this.updateFavorites(JSON.parse(JSON.stringify(this.favorites)))},getRandomInRange:function(t,e){return Math.floor(t+Math.random()*(e+1-t))}},Object(c.c)({initState:"popup/initState",updateTitles:"popup/updateTitles",updateAlbums:"popup/updateAlbums",updateFavorites:"popup/updateFavorites",updateFilter:"popup/updateFilter"})),mounted:function(){this.init()}},x=(r(181),{components:{PopupContainer:Object(m.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrap"},[r("vendor-filter",{attrs:{titles:t.titles,albums:t.albums,favorites:t.favorites,filter:t.filter},on:{toggleFilter:t.toggleFilter,toggleFavorite:t.toggleFavorite}}),t._v(" "),r("div",{staticClass:"wrap__bg"})],1)}),[],!1,null,null,null).exports},data:function(){return{}}}),F=(r(183),Object(m.a)(x,(function(){var t=this.$createElement;return(this._self._c||t)("popup-container")}),[],!1,null,null,null));e.default=F.exports}}]);